<div ng-init="load()"> <div class="content" ng-show="!records || records.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="records.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.svg"> </p> </div> </div> </div> <div class="col-lg-12 content" ng-show="records.length > 0"> <a ng-click="ToProduction()" style="margin-bottom:5px" class="btn custom-btn-primary"> <i class="glyphicon glyphicon-list-alt"></i>&nbsp;Crear Producci√≥n</a> <div class="hpanel"> <div class="panel-body"> <div class="row"> <div class="col-lg-2"> <label>Fecha Inicial:</label> <p class="input-group"> <input ng-change="setFormat()" type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt" is-open="popup2.opened" datepicker-options="dateOptions" ng-required="true" close-text="Cerrar"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button> </span> </p> </div> <div class="col-lg-2"> <label>Fecha Final:</label> <p class="input-group"> <input ng-change="setFormatEnd()" type="text" class="form-control" uib-datepicker-popup="{{formatEnd}}" ng-model="dtEnd" is-open="popupEnd.opened" datepicker-options="dateOptionsEnd" ng-required="true" close-text="Cerrar"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="openEnd()"><i class="glyphicon glyphicon-calendar"></i></button> </span> </p> </div> <div class="col-lg-2"> <div class="form-group"> <label for="name">Cliente:</label> <cliente-field empty-option="true" placeholder="Vendedor" ng-model="filter._client" key="_id" label="full_name"><cliente-field> </cliente-field></cliente-field></div> </div> <div class="col-lg-2"> <div class="form-group"> <label for="name">Vendedor:</label> <vendedor-field empty-option="true" placeholder="Vendedor" ng-model="filter._seller" key="_id" label="name"><vendedor-field> </vendedor-field></vendedor-field></div> </div> <div class="col-lg-4"> <label>Buscar referencias</label> <producto-field key="_id" id="product_field" label="producto" on-enter="isEmpty()" set-focus="focuset" search-by="['idcomposed', 'refMixed', 'producto']" placeholder="Referencia, Descripcion, Id" set-object="_productObj" ng-model="_product"> <producto-field> </producto-field></producto-field></div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Pedido</th> <th>Codigo</th> <th>Producto</th> <th>Categoria</th> <th>Base</th> <th>Precio de Venta</th> <th>Cliente</th> <th>Vendedor</th> <th>Tallas</th> </tr> </thead> <tbody> <tr dir-paginate="record in results = (records  
                      | dateRange:filter._ini:filter._end 
                      | filter:search 
                      | filter:{_client : { _id : filter._client}} 
                      | filter:{_seller : { _id : filter._seller}} 
                      | filter:{ idcomposed : _productObj.idcomposed } 
                      | orderBy:'-createdAt'
                      | itemsPerPage: 5 )" pagination-id="previewEntity"> <td><span class="label label-success">{{record.pedido}}</span></td> <td><span class="label label-primary">{{record.idcomposed}}</span></td> <td>{{record.producto}}</td> <td>{{record._category.text || 'Sin Categoria'}}</td> <td>{{record.precio | currency:"$ "}}</td> <td>{{record.precio_venta || record.precio || 0 | currency:"$ "}}</td> <td>{{record._client.full_name.toLowerCase() != "" ? record._client.full_name.toLowerCase() : record._client.data.representante_legal.toLowerCase()}}</td> <td>{{record._seller.full_name.toLowerCase()}}</td> <td><button ng-click="MostrarTallasCantidades()" type="button" class="btn btn-success btn-xs"><i class="glyphicon glyphicon-eye-open"></i>&nbsp;Tallas - Cantidades</button></td> <td></td> </tr> <tr> <td colspan="8" class="text-right"><strong>Numero de items:</strong></td> <td colspan="2" class="text-left">{{results.length || 0}}</td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="previewEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Productos </div> </div> </div> <div class="row" ng-show="records.length > 0"> </div></div>